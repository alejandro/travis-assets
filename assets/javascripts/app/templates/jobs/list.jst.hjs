<table id="builds">
  <caption>{{i18n "jobs.build_matrix"}}</caption>
  <thead>
    {{#each build.formattedMatrixHeaders}}
      <th>{{this}}</th>
    {{/each}}
  </thead>

  {{#collection tagName="tbody" contentBinding="build.requiredJobs" itemClassBinding="content.color"}}
    <td class="number"><a {{bindAttr href="view.content.url"}}>{{view.content.number}}</a></td>
    <td class="duration" {{bindAttr title="view.content.started_at"}}>{{view.content.formattedDuration}}</td>
    <td class="finished_at timeago" {{bindAttr title="view.content.finished_at"}}>{{view.content.formattedFinishedAt}}</td>
    {{#each view.content.formattedConfigValues}}
      <td>{{value}}</td>
    {{/each}}
  {{/collection}}
</table>

{{#if build.hasFailureMatrix}}
  <table id="allow_failure_builds">
    <caption>{{i18n "jobs.allowed_failures"}}{{whats_this "allow_failure_help"}}
  </caption>
    <thead>
      {{#collection tagName="tr" contentBinding="build.formattedMatrixHeaders" itemTagName="th"}}
        {{view.content}}
      {{/collection}}
    </thead>

    {{#collection tagName="tbody" contentBinding="build.allowFailureJobs" itemViewClass="Ember.View" itemClassBinding="content.color"}}
      <td class="number"><a {{bindAttr href="view.content.url"}}>{{view.content.number}}</a></td>
      <td class="duration" {{bindAttr title="view.content.started_at"}}>{{view.content.formattedDuration}}</td>
      <td class="finished_at timeago" {{bindAttr title="view.content.finished_at"}}>{{view.content.formattedFinishedAt}}</td>
      {{#each view.content.formattedConfigValues itemTagName="td"}}
        <td>{{value}}</td>
      {{/each}}
    {{/collection}}
  </table>

  <div id="allow_failure_help" class="context_help">
  <div class="context_help_caption">{{i18n "jobs.allowed_failures"}}</div>
  <div class="context_help_body">Allowed Failures are items in your build matrix that are allowed to fail without causing the entire build to be shown as failed. This lets you add in experimental and preparatory builds to test against versions or configurations that you are not ready to officially support.<br><br>You can define allowed failures in the build matrix as follows:
  </br><pre>
  matrix:
    allow_failures:
      - rvm: ruby-head
  </pre></div>
  </div>
{{/if}}
